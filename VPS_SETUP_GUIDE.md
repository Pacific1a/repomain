# üñ•Ô∏è –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ù–ê–°–¢–†–û–ô–ö–ï VPS

## üìã –î–ê–ù–ù–´–ï –°–ï–†–í–ï–†–ê

```
IP –∞–¥—Ä–µ—Å: 77.239.125.70
–õ–æ–≥–∏–Ω: root
–ü–∞—Ä–æ–ª—å: G3ce12soSjWJK38jyGq
–ò–º—è —Å–µ—Ä–≤–µ—Ä–∞: duos
```

---

## üöÄ –ë–´–°–¢–†–ê–Ø –£–°–¢–ê–ù–û–í–ö–ê (–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø)

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ SSH (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

#### 1. –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH

**–ù–∞ Windows (PowerShell):**
```powershell
ssh root@77.239.125.70
```

**–ü–∞—Ä–æ–ª—å:** `G3ce12soSjWJK38jyGq`

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Å–ø—Ä–æ—Å–∏—Ç: `Are you sure you want to continue connecting?`
‚Üí –ù–∞–ø–∏—à–∏ `yes` –∏ –Ω–∞–∂–º–∏ Enter

#### 2. –°–∫–æ–ø–∏—Ä—É–π –∏ –∑–∞–ø—É—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
curl -fsSL https://raw.githubusercontent.com/Pacific1a/repomain/main/install.sh | bash
```

**–ò–õ–ò –≤—Ä—É—á–Ω—É—é —Å–∫–æ–ø–∏—Ä—É–π —Å–∫—Ä–∏–ø—Ç:**

```bash
# –°–æ–∑–¥–∞–π —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞
nano install.sh

# –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ VPS_INSTALL_SCRIPT.sh
# Ctrl+X, Y, Enter –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

# –°–¥–µ–ª–∞–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x install.sh

# –ó–∞–ø—É—Å—Ç–∏
./install.sh
```

#### 3. –ü–æ–¥–æ–∂–¥–∏ 5-10 –º–∏–Ω—É—Ç

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:
- ‚úÖ Node.js 18
- ‚úÖ Python 3.11
- ‚úÖ Nginx
- ‚úÖ PM2
- ‚úÖ –¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å—ë –Ω–∞—Å—Ç—Ä–æ–∏—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç

---

## üìù –ü–û–°–õ–ï –£–°–¢–ê–ù–û–í–ö–ò

### 1. –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∞

```bash
cd /var/www/duo/site/server
node create-admin.js
```

**–í–≤–µ–¥–∏ –¥–∞–Ω–Ω—ã–µ:**
```
Email: —Ç–≤–æ–π@email.com
Login: admin
Password: —Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å
Telegram ID: —Ç–≤–æ–π_telegram_id (–∏–ª–∏ –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º)
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
pm2 status

# –õ–æ–≥–∏ —Å–∞–π—Ç–∞
pm2 logs duo-partner

# –õ–æ–≥–∏ –±–æ—Ç–∞
pm2 logs duo-bot
```

### 3. –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç

**–í –±—Ä–∞—É–∑–µ—Ä–µ:**
```
http://77.239.125.70
```

**–î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞!** ‚úÖ

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

1. –û—Ç–∫—Ä–æ–π `http://77.239.125.70`
2. –ù–∞–∂–º–∏ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
3. –°–æ–∑–¥–∞–π –∞–∫–∫–∞—É–Ω—Ç
4. –í–æ–π–¥–∏ –≤ –ø–∞–Ω–µ–ª—å

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π Telegram –±–æ—Ç–∞
2. –û—Ç–ø—Ä–∞–≤—å `/start`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å ‚úÖ

---

## üîß –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PM2

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
pm2 restart all

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–∞–π—Ç
pm2 restart duo-partner

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–æ—Ç–∞
pm2 restart duo-bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
pm2 stop all

# –õ–æ–≥–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
pm2 logs

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
pm2 logs duo-partner
pm2 logs duo-bot

# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
pm2 flush
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Nginx

```bash
# –°—Ç–∞—Ç—É—Å
systemctl status nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl restart nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –õ–æ–≥–∏
tail -f /var/log/nginx/duo-partner-access.log
tail -f /var/log/nginx/duo-partner-error.log
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
cd /var/www/duo/site/server/data
ls -lh database.db

# –û—Ç–∫—Ä—ã—Ç—å –ë–î (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)
sqlite3 database.db

# –í–Ω—É—Ç—Ä–∏ sqlite3:
.tables                          # –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
SELECT * FROM users;             # –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
SELECT * FROM referral_stats;    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
.exit                            # –í—ã—Ö–æ–¥
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /var/www/duo

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull

# –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
cd site/server
npm install

# –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
cd ../../bot/autoshop
pip3 install -r requirements.txt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
pm2 restart all
```

---

## üåê –ù–ê–°–¢–†–û–ô–ö–ê –î–û–ú–ï–ù–ê (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

### –ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: duopartners.ru)

#### 1. –ù–∞—Å—Ç—Ä–æ–π DNS

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º –¥–æ–±–∞–≤—å A-–∑–∞–ø–∏—Å—å:
```
–¢–∏–ø: A
–ò–º—è: @
–ó–Ω–∞—á–µ–Ω–∏–µ: 77.239.125.70
TTL: 3600
```

#### 2. –û–±–Ω–æ–≤—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

```bash
# –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥
nano /etc/nginx/sites-available/duo-partner

# –ò–∑–º–µ–Ω–∏ —Å—Ç—Ä–æ–∫—É:
server_name 77.239.125.70;

# –ù–∞:
server_name duopartners.ru www.duopartners.ru;

# –°–æ—Ö—Ä–∞–Ω–∏: Ctrl+X, Y, Enter

# –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥
nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Nginx
systemctl reload nginx
```

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∏ SSL (HTTPS)

```bash
# –ü–æ–ª—É—á–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL –æ—Ç Let's Encrypt
certbot --nginx -d duopartners.ru -d www.duopartners.ru

# –í–≤–µ–¥–∏ email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
# –°–æ–≥–ª–∞—Å–∏—Å—å —Å ToS: Y
# Email —Ä–∞—Å—Å—ã–ª–∫–∞: N (–∏–ª–∏ Y –µ—Å–ª–∏ —Ö–æ—á–µ—à—å)

# Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç HTTPS!
```

#### 4. –û–±–Ω–æ–≤i .env —Ñ–∞–π–ª—ã

```bash
# –°–∞–π—Ç
nano /var/www/duo/site/server/.env
# –ò–∑–º–µ–Ω–∏: SITE_URL=https://duopartners.ru

# –ë–æ—Ç
nano /var/www/duo/bot/autoshop/.env
# –ò–∑–º–µ–Ω–∏: SERVER_URL=https://duopartners.ru

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏
pm2 restart all
```

---

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### 1. –°–º–µ–Ω–∏ –ø–∞—Ä–æ–ª—å root

```bash
passwd
```

### 2. –°–æ–∑–¥–∞–π –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
adduser duo

# –î–æ–±–∞–≤–∏—Ç—å –≤ sudo –≥—Ä—É–ø–ø—É
usermod -aG sudo duo

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
su - duo
```

### 3. –ù–∞—Å—Ç—Ä–æ–π SSH –∫–ª—é—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –ù–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (Windows PowerShell):
ssh-keygen -t rsa -b 4096

# –°–∫–æ–ø–∏—Ä—É–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
ssh-copy-id root@77.239.125.70
```

### 4. –û—Ç–∫–ª—é—á–∏ –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–µ–π)

```bash
nano /etc/ssh/sshd_config

# –ò–∑–º–µ–Ω–∏:
PasswordAuthentication no

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ SSH:
systemctl restart sshd
```

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å htop (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤)

```bash
apt install htop
htop
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

```bash
free -h
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞

```bash
df -h
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É

```bash
uptime
```

---

## üêõ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å PM2
pm2 status

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
pm2 logs duo-partner

# –ü—Ä–æ–≤–µ—Ä—å Nginx
systemctl status nginx
nginx -t

# –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç—ã
netstat -tulpn | grep 3000
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞
ls -la /var/www/duo/site/server/data

# –î–∞–π –ø—Ä–∞–≤–∞
chmod 755 /var/www/duo/site/server/data

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
pm2 logs duo-partner
```

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
pm2 logs duo-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏
pm2 restart duo-bot

# –ü—Ä–æ–≤–µ—Ä—å .env
cat /var/www/duo/bot/autoshop/.env
```

### Out of Memory

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ø–∞–º—è—Ç—å
free -h

# –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–æ—Ü–µ—Å—Å—ã
pm2 monit

# –ï—Å–ª–∏ –º–∞–ª–æ –ø–∞–º—è—Ç–∏, —Å–æ–∑–¥–∞–π swap:
fallocate -l 2G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
echo '/swapfile none swap sw 0 0' >> /etc/fstab
```

---

## üì¶ –ë–≠–ö–ê–ü–´

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞
nano /root/backup.sh
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
```bash
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
cp /var/www/duo/site/server/data/database.db /root/backups/db_$DATE.db
# –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –±—ç–∫–∞–ø–æ–≤
ls -t /root/backups/db_*.db | tail -n +8 | xargs rm -f
```

```bash
# –°–æ–∑–¥–∞–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±—ç–∫–∞–ø–æ–≤
mkdir -p /root/backups

# –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x /root/backup.sh

# –î–æ–±–∞–≤—å –≤ cron (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00)
crontab -e

# –î–æ–±–∞–≤—å —Å—Ç—Ä–æ–∫—É:
0 3 * * * /root/backup.sh
```

---

## ‚úÖ CHECKLIST –ü–û–°–õ–ï –£–°–¢–ê–ù–û–í–ö–ò

- [ ] –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `pm2 status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞ online
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è: http://77.239.125.70
- [ ] –°–æ–∑–¥–∞–Ω –∞–¥–º–∏–Ω —á–µ—Ä–µ–∑ `create-admin.js`
- [ ] –í—Ö–æ–¥ –≤ –ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
- [ ] –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
- [ ] /start ref_CODE —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±–æ—Ç–µ
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏
- [ ] –ì—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

## üéâ –ì–û–¢–û–í–û!

**–¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

**URL:** http://77.239.125.70

**–ê–¥–º–∏–Ω–∫–∞:** http://77.239.125.70 ‚Üí –≤—Ö–æ–¥ —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º

**–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å - –ø–∏—à–∏!** üöÄ
