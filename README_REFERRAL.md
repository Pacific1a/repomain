# üéØ –†–ï–§–ï–†–ê–õ–¨–ù–ê–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ë–û–¢ ‚Üî –°–ê–ô–¢

## ‚úÖ –í–°–Å –£–ñ–ï –ì–û–¢–û–í–û!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è **–£–ñ–ï –í–ù–ï–°–ï–ù–´** –≤ —Ç–≤–æ–∏ —Ñ–∞–π–ª—ã.  
–ü—Ä–æ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π `.env` –∏ –∑–∞–ø—É—Å—Ç–∏!

---

## üî• –ù–ê–ß–ù–ò –° –≠–¢–û–ì–û

**–û—Ç–∫—Ä–æ–π –∏ —á–∏—Ç–∞–π –ø–æ –ø–æ—Ä—è–¥–∫—É:**

1. **START_HERE.md** ‚Üê üöÄ **–ù–ê–ß–ù–ò –û–¢–°–Æ–î–ê**  
   –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 3 —à–∞–≥–∞

2. **KEYS_EXPLAINED.md**  
   –ß—Ç–æ –∑–∞ –∫–ª—é—á PARTNER_API_SECRET (–ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º)

3. **CHANGES_SUMMARY.md**  
   –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ –≤ —Ç–≤–æ–∏—Ö —Ñ–∞–π–ª–∞—Ö

---

## üìù –ö–û–†–û–¢–ö–û

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç—Ä–µ–∫–∏–Ω–≥ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –≤ –±–æ—Ç  
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ API –Ω–∞ —Å–∞–π—Ç–µ  
‚úÖ –°–æ–∑–¥–∞–Ω—ã –º–æ–¥—É–ª–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –ì–æ—Ç–æ–≤—ã–µ `.env` —Ñ–∞–π–ª—ã  

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. –û—Ç–∫—Ä–æ–π `bot/server/.env`
2. –ü—Ä–æ–≤–µ—Ä—å `PARTNER_SITE_URL` –∏ `PARTNER_API_SECRET`
3. –û—Ç–∫—Ä–æ–π `site/server/.env`
4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `PARTNER_API_SECRET` **–¢–ê–ö–û–ô –ñ–ï**
5. –ó–∞–ø—É—Å—Ç–∏ –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞
6. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π

---

## üîë –ü–†–û –ö–õ–Æ–ß (–°–ê–ú–û–ï –í–ê–ñ–ù–û–ï)

### PARTNER_API_SECRET = –æ–±—â–∏–π –ø–∞—Ä–æ–ª—å –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ —Å–∞–π—Ç–æ–º

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
–ë–û–¢ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ + –ø–∞—Ä–æ–ª—å ‚Üí –°–ê–ô–¢
–°–ê–ô–¢ ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å ‚Üí –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç
```

**–ì–¥–µ —É–∫–∞–∑–∞—Ç—å:**
```
bot/server/.env:
PARTNER_API_SECRET=—Ç–≤–æ–π-–∫–ª—é—á

site/server/.env:
PARTNER_API_SECRET=—Ç–≤–æ–π-–∫–ª—é—á  ‚Üê –¢–ê–ö–û–ô –ñ–ï!
```

**–ü—Ä–∏–º–µ—Ä:**
```
PARTNER_API_SECRET=duo-secret-2024-xyz
```

---

## üöÄ –ó–ê–ü–£–°–ö

### –õ–æ–∫–∞–ª—å–Ω–æ:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1:**
```bash
cd bot/server
npm start
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2:**
```bash
cd site/server
npm start
```

### –ù–∞ Render:

–î–æ–±–∞–≤—å –≤ Environment Variables:

**–ë–û–¢:**
```
PARTNER_SITE_URL = https://duo-site.onrender.com
PARTNER_API_SECRET = —Ç–≤–æ–π-–∫–ª—é—á
```

**–°–ê–ô–¢:**
```
PARTNER_API_SECRET = —Ç–≤–æ–π-–∫–ª—é—á  (–¢–ê–ö–û–ô –ñ–ï!)
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:3000/?tgWebAppStartParam=ref_test123
```

**–õ–æ–≥–∏ –ë–û–¢–ê:**
```
‚úÖ Referral tracker initialized
üîó Start param detected: ref_test123
‚úÖ User XXX linked to partner test123
```

**–õ–æ–≥–∏ –°–ê–ô–¢–ê:**
```
‚úÖ Webhook authenticated
POST /api/referral/click 200
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–´

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **START_HERE.md** | üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç |
| **KEYS_EXPLAINED.md** | –ü—Ä–æ –∫–ª—é—á–∏ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º |
| **CHANGES_SUMMARY.md** | –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ –≤ –∫–æ–¥–µ |
| **INTEGRATION_GUIDE.md** | –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ |
| **SUMMARY.md** | –ö—Ä–∞—Ç–∫–∞—è —Å—Ö–µ–º–∞ |

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

‚úÖ –ü–∞—Ä—Ç–Ω–µ—Ä —Å–æ–∑–¥–∞–µ—Ç —Ä–µ—Ñ. —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–π—Ç–µ  
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç ‚Üí –±–æ—Ç —É–≤–µ–¥–æ–º–ª—è–µ—Ç —Å–∞–π—Ç  
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–æ–ª–Ω—è–µ—Ç ‚Üí —Å–∞–π—Ç –≤–∏–¥–∏—Ç –¥–µ–ø–æ–∑–∏—Ç  
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç ‚Üí –ø–∞—Ä—Ç–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç %  
‚úÖ –ü–∞—Ä—Ç–Ω–µ—Ä –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  

**–î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ –æ–±—â–∞—é—Ç—Å—è –ø–æ HTTP!** üöÄ

---

## ‚ùì –í–û–ü–†–û–°–´

### –ù—É–∂–Ω–æ –ª–∏ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Å–µ—Ä–≤–µ—Ä—ã?
**–ù–ï–¢!** –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –æ–±—â–∞—é—Ç—Å—è –ø–æ HTTP.

### –ß—Ç–æ –µ—Å–ª–∏ –∑–∞–±—ã–ª –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å .env?
–ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç: `‚ö†Ô∏è Partner Webhook disabled`

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
–ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ - –µ—Å–ª–∏ `‚úÖ Webhook authenticated` –∑–Ω–∞—á–∏—Ç ok.

---

**–ù–∞—á–∏–Ω–∞–π —Å START_HERE.md** ‚Üí
