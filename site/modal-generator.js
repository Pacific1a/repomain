/**
 * Универсальный генератор модальных окон
 * Создает все модальные окна динамически при загрузке страницы
 */

const ModalGenerator = {
    // SVG иконки
    icons: {
        close: `<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">
            <path d="M13.6523 0.902344C14.1894 0.365503 15.0607 0.365365 15.5977 0.902344C16.1347 1.43932 16.1345 2.31058 15.5977 2.84766L10.4443 8L15.5967 13.1523C16.1338 13.6894 16.1347 14.5606 15.5977 15.0977C15.0607 15.6347 14.1894 15.6345 13.6523 15.0977L8.5 9.94434L3.34766 15.0977C2.81056 15.6345 1.9393 15.6346 1.40234 15.0977C0.86534 14.5607 0.865528 13.6894 1.40234 13.1523L6.55469 8L1.40234 2.84766C0.865486 2.31056 0.86543 1.4393 1.40234 0.902344C1.93932 0.36534 2.81058 0.365529 3.34766 0.902344L8.5 6.05469L13.6523 0.902344Z" fill="#685757" stroke="#685757"/>
        </svg>`,
        partnership: `<svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
            <path d="M16.6249 5.03771V4.16684C16.6249 3.24764 15.8401 2.5001 14.8751 2.5001C14.3912 2.5001 14.0001 2.12676 14.0001 1.66674C14.0001 1.20672 14.3912 0.833368 14.8751 0.833368C16.8052 0.833368 18.3748 2.32843 18.3748 4.16684V5.00688L19.5166 3.98517C19.8639 3.66599 20.4177 3.67349 20.7537 4.0035C21.0897 4.33435 21.0809 4.86187 20.7336 5.18188L18.7475 7.01363C18.4072 7.33781 17.9566 7.49948 17.5042 7.49948C17.0484 7.49948 16.5926 7.33447 16.2452 7.00446L14.2679 5.18105C13.9205 4.86104 13.9118 4.33351 14.2477 4.00267C14.5846 3.67265 15.1384 3.66432 15.4849 3.98433L16.6267 5.03688L16.6249 5.03771ZM2.2455 7.00529C2.59285 7.33531 3.04956 7.50031 3.50452 7.50031C3.95686 7.50031 4.40745 7.33781 4.7478 7.01446L6.73388 5.18272C7.08122 4.8627 7.08997 4.33518 6.754 4.00433C6.41803 3.67432 5.8642 3.66599 5.51686 3.986L4.37508 5.00771V4.16767C4.37508 3.24847 5.15989 2.50094 6.12493 2.50094C6.60876 2.50094 6.99986 2.12759 6.99986 1.66757C6.99986 1.20755 6.60876 0.834201 6.12493 0.834201C4.19484 0.834201 2.62522 2.32926 2.62522 4.16767V5.03854L1.48344 3.986C1.1361 3.66599 0.583144 3.67432 0.246297 4.00433C-0.089675 4.33518 -0.0809257 4.8627 0.26642 5.18272L2.24375 7.00612L2.2455 7.00529ZM10.5004 3.33347C11.4672 3.33347 12.2503 2.58761 12.2503 1.66674C12.2503 0.745864 11.4672 0 10.5004 0C9.53364 0 8.75058 0.745864 8.75058 1.66674C8.75058 2.58761 9.53364 3.33347 10.5004 3.33347ZM8.54848 6.66694H12.4515C13.0473 6.66694 13.4096 6.04275 13.099 5.55857C12.5635 4.72436 11.6028 4.16684 10.4996 4.16684C9.39628 4.16684 8.43561 4.72436 7.90016 5.55857C7.58956 6.04275 7.95178 6.66694 8.5476 6.66694H8.54848ZM20.1246 9.08705H16.2898C15.883 9.08705 15.4814 8.99704 15.1165 8.8237L14.5487 8.55369C13.4253 8.01533 12.0683 8.22618 11.1785 9.07454L8.17576 11.8238C7.85116 12.1338 7.77767 12.6297 8.0174 12.9464C8.31662 13.3689 8.98769 13.4239 9.35341 13.0589L11.3972 11.1405L17.6626 16.6374H20.1246C20.6076 16.6374 20.9996 16.264 20.9996 15.804V9.92208C20.9996 9.46206 20.6076 9.08871 20.1246 9.08871V9.08705ZM10.5634 14.2923C9.49427 15.354 7.47144 15.184 6.59564 13.9489C5.86683 12.988 6.00244 11.6021 6.90624 10.7104L9.23967 8.64453C8.42861 8.24868 7.45132 8.22784 6.60264 8.63203L6.03481 8.90204C5.66997 9.07538 5.26838 9.16621 4.86066 9.16621H0.876244C0.393285 9.16705 0.00131739 9.5404 0.00131739 10.0004V15.834C0.00131739 16.294 0.393285 16.6674 0.876244 16.6674H3.33479C4.31033 16.6674 5.25788 16.9774 6.02606 17.5491L8.39624 19.3108C8.99731 19.7575 9.7375 20 10.4996 20C11.2616 20 12.0018 19.7575 12.6029 19.3108L15.561 17.1115L11.3806 13.5456L10.5626 14.2914L10.5634 14.2923Z" fill="#7C6969"/>
        </svg>`,
        warning: `<svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" viewBox="0 0 92 92" fill="none">
            <path d="M36.2976 80.247C35.7763 82.3132 33.6258 83.5322 31.6287 83.007C13.0064 78.2115 0 61.4177 0 42.1667C0 18.9175 18.9174 0 42.1664 0C65.4155 0 84.3329 18.9175 84.3329 42.1667C84.3329 44.2827 82.6194 46 80.4995 46C78.3797 46 76.6662 44.2827 76.6662 42.1667C76.6662 23.1457 61.1912 7.66667 42.1664 7.66667C23.1417 7.66667 7.66662 23.1457 7.66662 42.1667C7.66662 57.9217 18.3041 71.6603 33.5376 75.578C35.5885 76.107 36.8228 78.1962 36.2976 80.247ZM45.9997 42.1667V23C45.9997 20.884 44.2863 19.1667 42.1664 19.1667C40.0466 19.1667 38.3331 20.884 38.3331 23V38.3333H26.8332C24.7134 38.3333 22.9999 40.0507 22.9999 42.1667C22.9999 44.2827 24.7134 46 26.8332 46H42.1664C44.2863 46 45.9997 44.2827 45.9997 42.1667ZM85.7474 92H48.8862C44.0678 92 41.0624 86.7713 43.4928 82.6083L61.9233 51.014C64.3345 46.8817 70.3029 46.8817 72.7103 51.014L91.1408 82.6083C93.5673 86.7713 90.5658 92 85.7474 92ZM71.1501 84.3333C71.1501 82.2173 69.4328 80.5 67.3168 80.5C65.2008 80.5 63.4835 82.2173 63.4835 84.3333C63.4835 86.4493 65.2008 88.1667 67.3168 88.1667C69.4328 88.1667 71.1501 86.4493 71.1501 84.3333ZM71.1501 65.159C71.1501 63.043 69.4328 61.3257 67.3168 61.3257C65.2008 61.3257 63.4835 63.043 63.4835 65.159V72.8333C63.4835 74.9493 65.2008 76.6667 67.3168 76.6667C69.4328 76.6667 71.1501 74.9493 71.1501 72.8333V65.159Z" fill="#806060"/>
        </svg>`,
        lock: `<svg xmlns="http://www.w3.org/2000/svg" width="17" height="21" viewBox="0 0 17 21" fill="none">
            <path d="M14.3072 2.25491L8.5 0.25L2.6928 2.25491C1.3808 2.70804 0.5 3.97829 0.5 5.41763V10.2113C0.5 15.6813 6.1048 19.0214 7.82 19.9135L8.4648 20.25L9.1352 19.9701C10.8624 19.2455 16.5 16.4009 16.5 10.2104V5.4168C16.5 3.97746 15.6184 2.70804 14.3072 2.25491ZM9.3 10.0672V13.5731H7.7V10.0672C6.9936 9.74565 6.5 9.01265 6.5 8.15887C6.5 7.00857 7.3952 6.0765 8.5 6.0765C9.6048 6.0765 10.5 7.00857 10.5 8.15887C10.5 9.01265 10.0064 9.74648 9.3 10.0672Z" fill="#7C6969"/>
        </svg>`,
        copy: `<svg class="icon-copy" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
            <path d="M13.625 18H4.875C3.7151 17.9986 2.60311 17.5372 1.78294 16.7171C0.962772 15.8969 0.501389 14.7849 0.5 13.625L0.5 4.875C0.501389 3.7151 0.962772 2.60311 1.78294 1.78294C2.60311 0.962772 3.7151 0.501389 4.875 0.5L13.625 0.5C14.7849 0.501389 15.8969 0.962772 16.7171 1.78294C17.5372 2.60311 17.9986 3.7151 18 4.875V13.625C17.9986 14.7849 17.5372 15.8969 16.7171 16.7171C15.8969 17.5372 14.7849 17.9986 13.625 18ZM21.5 17.125V5.75C21.5 5.51794 21.4078 5.29538 21.2437 5.13128C21.0796 4.96719 20.8571 4.875 20.625 4.875C20.3929 4.875 20.1704 4.96719 20.0063 5.13128C19.8422 5.29538 19.75 5.51794 19.75 5.75V17.125C19.75 17.8212 19.4734 18.4889 18.9812 18.9812C18.4889 19.4734 17.8212 19.75 17.125 19.75H5.75C5.51794 19.75 5.29538 19.8422 5.13128 20.0063C4.96719 20.1704 4.875 20.3929 4.875 20.625C4.875 20.8571 4.96719 21.0796 5.13128 21.2437C5.29538 21.4078 5.51794 21.5 5.75 21.5H17.125C18.2849 21.4986 19.3969 21.0372 20.2171 20.2171C21.0372 19.3969 21.4986 18.2849 21.5 17.125Z" fill="#6E5B5B"/>
        </svg>`,
        check: `<svg class="icon-check" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M20 6L9 17L4 12" stroke="#6E5B5B" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>`,
        success: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M18.214 9.098C18.601 9.492 18.595 10.125 18.2 10.512L13.774 14.857C12.991 15.625 11.983 16.008 10.974 16.008C9.976 16.008 8.978 15.632 8.198 14.879L6.299 13.012C5.905 12.625 5.9 11.992 6.287 11.598C6.673 11.203 7.308 11.198 7.701 11.586L9.594 13.447C10.37 14.197 11.595 14.193 12.375 13.429L16.8 9.085C17.193 8.697 17.824 8.704 18.214 9.098ZM24 12C24 18.617 18.617 24 12 24C5.383 24 0 18.617 0 12C0 5.383 5.383 0 12 0C18.617 0 24 5.383 24 12ZM22 12C22 6.486 17.514 2 12 2C6.486 2 2 6.486 2 12C2 17.514 6.486 22 12 22C17.514 22 22 17.514 22 12Z" fill="#E9CCCC"/>
        </svg>`,
        error: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 0C9.62663 0 7.30655 0.703788 5.33316 2.02236C3.35977 3.34094 1.8217 5.21508 0.913451 7.4078C0.00519943 9.60051 -0.232441 12.0133 0.230582 14.3411C0.693605 16.6689 1.83649 18.807 3.51472 20.4853C5.19295 22.1635 7.33115 23.3064 9.65892 23.7694C11.9867 24.2324 14.3995 23.9948 16.5922 23.0865C18.7849 22.1783 20.6591 20.6402 21.9776 18.6668C23.2962 16.6935 24 14.3734 24 12C23.9966 8.81846 22.7312 5.76821 20.4815 3.51852C18.2318 1.26883 15.1815 0.00344108 12 0ZM12 22C10.0222 22 8.08879 21.4135 6.4443 20.3147C4.79981 19.2159 3.51809 17.6541 2.76121 15.8268C2.00433 13.9996 1.8063 11.9889 2.19215 10.0491C2.578 8.10929 3.53041 6.32746 4.92894 4.92893C6.32746 3.53041 8.10929 2.578 10.0491 2.19215C11.9889 1.80629 13.9996 2.00433 15.8268 2.7612C17.6541 3.51808 19.2159 4.79981 20.3147 6.4443C21.4135 8.08879 22 10.0222 22 12C21.9971 14.6513 20.9426 17.1931 19.0679 19.0678C17.1931 20.9426 14.6513 21.9971 12 22Z" fill="#F19393"/>
            <path d="M12.001 5.00018C11.7358 5.00018 11.4814 5.10553 11.2939 5.29307C11.1063 5.48061 11.001 5.73496 11.001 6.00018V14.0002C11.001 14.2654 11.1063 14.5197 11.2939 14.7073C11.4814 14.8948 11.7358 15.0002 12.001 15.0002C12.2662 15.0002 12.5205 14.8948 12.7081 14.7073C12.8956 14.5197 13.001 14.2654 13.001 14.0002V6.00018C13.001 5.73496 12.8956 5.48061 12.7081 5.29307C12.5205 5.10553 12.2662 5.00018 12.001 5.00018Z" fill="#F19393"/>
            <path d="M13.001 18.0002C13.001 17.4479 12.5533 17.0002 12.001 17.0002C11.4487 17.0002 11.001 17.4479 11.001 18.0002C11.001 18.5525 11.4487 19.0002 12.001 19.0002C12.5533 19.0002 13.001 18.5525 13.001 18.0002Z" fill="#F19393"/>
        </svg>`
    },

    // Шаблоны модальных окон
    templates: {
        // Окно требования 2FA для вывода
        withdrawal_auth: () => `
            <div class="withdrawal-auth">
                <div class="withdrawal-auth-title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="withdrawal-auth-cnt">
                        <span>ВЫВОД СРЕДСТВ</span>
                    </div>
                    <div class="withdrawal-auth-svg">
                        <svg xmlns="http://www.w3.org/2000/svg" width="423" height="182" viewBox="0 0 423 182" fill="none">
                            <rect width="423" height="180" rx="40" fill="#1C1313"/>
                            <rect width="423" height="180" rx="40" fill="url(#paint0_radial_1436_289)" fill-opacity="0.2"/>
                            <path d="M252.75 82C251.755 82 250.802 82.3951 250.098 83.0983C249.395 83.8016 249 84.7554 249 85.75V93.25C249 96.2337 247.815 99.0952 245.705 101.205C243.595 103.315 240.734 104.5 237.75 104.5H230.25C229.255 104.5 228.302 104.895 227.598 105.598C226.895 106.302 226.5 107.255 226.5 108.25C226.5 109.245 226.895 110.198 227.598 110.902C228.302 111.605 229.255 112 230.25 112H237.75C242.721 111.994 247.487 110.017 251.002 106.502C254.517 102.987 256.494 98.221 256.5 93.25V85.75C256.5 84.7554 256.105 83.8016 255.402 83.0983C254.698 82.3951 253.745 82 252.75 82Z" fill="#806060"/>
                            <path d="M170.25 52C171.245 52 172.198 51.6049 172.902 50.9017C173.605 50.1984 174 49.2446 174 48.25V40.75C174 37.7663 175.185 34.9048 177.295 32.7951C179.405 30.6853 182.266 29.5 185.25 29.5H192.75C193.745 29.5 194.698 29.1049 195.402 28.4017C196.105 27.6984 196.5 26.7446 196.5 25.75C196.5 24.7554 196.105 23.8016 195.402 23.0984C194.698 22.3951 193.745 22 192.75 22H185.25C180.279 22.006 175.513 23.9833 171.998 27.4983C168.483 31.0133 166.506 35.779 166.5 40.75V48.25C166.5 49.2446 166.895 50.1984 167.598 50.9017C168.302 51.6049 169.255 52 170.25 52Z" fill="#806060"/>
                            <path d="M192.75 104.5H185.25C182.266 104.5 179.405 103.315 177.295 101.205C175.185 99.0952 174 96.2337 174 93.25V85.75C174 84.7554 173.605 83.8016 172.902 83.0983C172.198 82.3951 171.245 82 170.25 82C169.255 82 168.302 82.3951 167.598 83.0983C166.895 83.8016 166.5 84.7554 166.5 85.75V93.25C166.506 98.221 168.483 102.987 171.998 106.502C175.513 110.017 180.279 111.994 185.25 112H192.75C193.745 112 194.698 111.605 195.402 110.902C196.105 110.198 196.5 109.245 196.5 108.25C196.5 107.255 196.105 106.302 195.402 105.598C194.698 104.895 193.745 104.5 192.75 104.5Z" fill="#806060"/>
                            <path d="M237.75 22H230.25C229.255 22 228.302 22.3951 227.598 23.0983C226.895 23.8016 226.5 24.7554 226.5 25.75C226.5 26.7446 226.895 27.6984 227.598 28.4017C228.302 29.1049 229.255 29.5 230.25 29.5H237.75C240.734 29.5 243.595 30.6853 245.705 32.795C247.815 34.9048 249 37.7663 249 40.75V48.25C249 49.2446 249.395 50.1984 250.098 50.9016C250.802 51.6049 251.755 52 252.75 52C253.745 52 254.698 51.6049 255.402 50.9016C256.105 50.1984 256.5 49.2446 256.5 48.25V40.75C256.494 35.779 254.517 31.0133 251.002 27.4983C247.487 23.9833 242.721 22.006 237.75 22Z" fill="#806060"/>
                            <path d="M211.5 63.25C219.784 63.25 226.5 56.5343 226.5 48.25C226.5 39.9657 219.784 33.25 211.5 33.25C203.216 33.25 196.5 39.9657 196.5 48.25C196.5 56.5343 203.216 63.25 211.5 63.25Z" fill="#806060"/>
                            <path d="M207.75 70.75C201.784 70.756 196.065 73.1284 191.847 77.3467C187.628 81.565 185.256 87.2845 185.25 93.25C185.25 94.2446 185.645 95.1984 186.348 95.9017C187.052 96.6049 188.005 97 189 97H234C234.995 97 235.948 96.6049 236.652 95.9017C237.355 95.1984 237.75 94.2446 237.75 93.25C237.744 87.2845 235.372 81.565 231.153 77.3467C226.935 73.1284 221.216 70.756 215.25 70.75H207.75Z" fill="#806060"/>
                            <g filter="url(#filter0_dd_1436_289)">
                            <path d="M102.996 154V141.4H113.544V154H111.78V143.02H104.76V154H102.996ZM120.412 154.198C119.044 154.198 117.928 153.766 117.082 152.902C116.236 152.038 115.804 150.94 115.804 149.59C115.804 148.24 116.236 147.106 117.118 146.224C118 145.342 119.134 144.91 120.538 144.91C121.906 144.91 123.022 145.342 123.868 146.206C124.714 147.07 125.146 148.168 125.146 149.518C125.146 150.868 124.714 151.984 123.832 152.866C122.95 153.748 121.816 154.198 120.412 154.198ZM120.448 152.668C121.33 152.668 122.068 152.38 122.626 151.786C123.184 151.192 123.472 150.472 123.472 149.59C123.472 148.69 123.202 147.934 122.644 147.34C122.086 146.746 121.366 146.44 120.484 146.44C119.602 146.44 118.882 146.728 118.324 147.322C117.766 147.916 117.478 148.636 117.478 149.518C117.478 150.418 117.748 151.174 118.306 151.768C118.864 152.362 119.566 152.668 120.448 152.668ZM134.617 145.108V152.488H135.985V156.376H134.383V154H127.399V156.376H125.779V152.488H126.751C127.381 151.768 127.669 151.084 127.813 149.5L128.209 145.108H134.617ZM132.943 146.584H129.703L129.469 149.626C129.379 150.832 129.037 151.822 128.479 152.578H132.943V146.584ZM136.526 145.108H144.194V146.62H141.206V154H139.532V146.62H136.526V145.108ZM152.045 149.446V149.482C153.035 149.77 153.629 150.598 153.629 151.516C153.629 153.154 152.585 154 150.623 154H146.195V145.108H150.623C152.333 145.108 153.359 145.99 153.359 147.484C153.359 148.42 152.927 149.068 152.045 149.446ZM151.703 147.646C151.703 146.98 151.199 146.512 150.389 146.512H147.779V148.78H150.371C151.217 148.78 151.703 148.348 151.703 147.646ZM147.779 152.596H150.479C151.487 152.596 151.991 152.2 151.991 151.39C151.991 150.67 151.469 150.184 150.461 150.184H147.779V152.596ZM163.804 149.446C163.804 149.626 163.786 149.878 163.768 150.184H156.73C156.82 151.714 158.008 152.704 159.646 152.704C160.816 152.704 161.77 152.344 162.544 151.642L163.39 152.794C162.472 153.73 160.996 154.198 159.61 154.198C158.242 154.198 157.144 153.766 156.298 152.92C155.452 152.074 155.038 150.94 155.038 149.554C155.038 148.186 155.47 147.07 156.316 146.206C157.162 145.342 158.278 144.91 159.646 144.91C162.148 144.91 163.804 146.512 163.804 149.446ZM159.574 146.404C158.08 146.404 156.982 147.25 156.748 148.816H162.238C162.148 147.25 161.14 146.404 159.574 146.404ZM167.451 158.176H165.777V145.108H167.451C167.451 145.45 167.415 145.972 167.343 146.692H167.379C167.829 145.702 169.125 144.91 170.709 144.91C171.987 144.91 173.031 145.342 173.859 146.188C174.669 147.034 175.083 148.168 175.083 149.554C175.083 150.94 174.669 152.074 173.841 152.92C173.013 153.766 171.951 154.198 170.673 154.198C169.143 154.198 167.919 153.424 167.415 152.416H167.379C167.433 152.884 167.451 153.568 167.451 154.468V158.176ZM170.403 152.668C172.185 152.668 173.409 151.408 173.409 149.59C173.409 148.654 173.139 147.898 172.581 147.304C172.023 146.728 171.303 146.44 170.439 146.44C169.557 146.44 168.855 146.728 168.297 147.304C167.739 147.88 167.451 148.618 167.451 149.518C167.451 151.39 168.675 152.668 170.403 152.668ZM184.557 145.108V152.488H185.925V156.376H184.323V154H177.339V156.376H175.719V152.488H176.691C177.321 151.768 177.609 151.084 177.753 149.5L178.149 145.108H184.557ZM182.883 146.584H179.643L179.409 149.626C179.319 150.832 178.977 151.822 178.419 152.578H182.883V146.584ZM189.048 154H187.662V145.108H189.336V148.996C189.336 149.968 189.318 150.742 189.282 151.3L189.318 151.318C189.642 150.868 190.002 150.4 190.416 149.914L194.502 145.108H195.834V154H194.16V149.914C194.16 149.032 194.178 148.33 194.196 147.826L194.16 147.808C193.728 148.42 193.332 148.942 192.954 149.356L189.048 154ZM197.856 145.108H205.524V146.62H202.536V154H200.862V146.62H197.856V145.108ZM215.132 149.446C215.132 149.626 215.114 149.878 215.096 150.184H208.058C208.148 151.714 209.336 152.704 210.974 152.704C212.144 152.704 213.098 152.344 213.872 151.642L214.718 152.794C213.8 153.73 212.324 154.198 210.938 154.198C209.57 154.198 208.472 153.766 207.626 152.92C206.78 152.074 206.366 150.94 206.366 149.554C206.366 148.186 206.798 147.07 207.644 146.206C208.49 145.342 209.606 144.91 210.974 144.91C213.476 144.91 215.132 146.512 215.132 149.446ZM210.902 146.404C209.408 146.404 208.31 147.25 208.076 148.816H213.566C213.476 147.25 212.468 146.404 210.902 146.404ZM217.637 152.038C218.303 152.038 218.717 152.506 218.717 153.226C218.717 153.928 218.339 154.972 217.583 156.358L216.683 155.926C217.007 155.224 217.205 154.594 217.295 154.036C216.809 153.91 216.557 153.604 216.557 153.1C216.557 152.47 217.007 152.038 217.637 152.038ZM232.879 154H231.205V152.452C231.205 151.732 231.241 150.958 231.295 150.148L231.241 150.13C230.647 150.994 229.765 151.426 228.595 151.426C227.659 151.426 226.885 151.102 226.291 150.454C225.679 149.824 225.373 148.978 225.373 147.952V145.108H226.975V147.718C226.975 149.194 227.659 149.932 229.027 149.932C230.395 149.932 231.205 149.122 231.205 147.772V145.108H232.879V154ZM234.875 145.108H242.543V146.62H239.555V154H237.881V146.62H234.875V145.108ZM247.994 154.198C246.626 154.198 245.51 153.766 244.664 152.902C243.818 152.038 243.386 150.94 243.386 149.59C243.386 148.24 243.818 147.106 244.7 146.224C245.582 145.342 246.716 144.91 248.12 144.91C249.488 144.91 250.604 145.342 251.45 146.206C252.296 147.07 252.728 148.168 252.728 149.518C252.728 150.868 252.296 151.984 251.414 152.866C250.532 153.748 249.398 154.198 247.994 154.198ZM248.03 152.668C248.912 152.668 249.65 152.38 250.208 151.786C250.766 151.192 251.054 150.472 251.054 149.59C251.054 148.69 250.784 147.934 250.226 147.34C249.668 146.746 248.948 146.44 248.066 146.44C247.184 146.44 246.464 146.728 245.906 147.322C245.348 147.916 245.06 148.636 245.06 149.518C245.06 150.418 245.33 151.174 245.888 151.768C246.446 152.362 247.148 152.668 248.03 152.668ZM261.775 144.91C263.107 144.91 264.223 145.324 265.105 146.17C265.987 147.016 266.437 148.132 266.437 149.554C266.437 151.012 265.987 152.146 265.105 152.956C264.223 153.784 263.107 154.198 261.775 154.198C260.533 154.198 259.453 153.838 258.553 153.118L259.327 151.786C260.101 152.38 260.911 152.686 261.775 152.686C263.269 152.686 264.493 151.714 264.727 150.13H260.767V148.708H264.673C264.367 147.286 263.197 146.44 261.757 146.44C260.911 146.44 260.155 146.674 259.489 147.142L258.661 145.9C259.543 145.234 260.587 144.91 261.775 144.91ZM267.272 145.108H274.94V146.62H271.952V154H270.278V146.62H267.272V145.108ZM280.391 154.198C279.023 154.198 277.907 153.766 277.061 152.902C276.215 152.038 275.783 150.94 275.783 149.59C275.783 148.24 276.215 147.106 277.097 146.224C277.979 145.342 279.113 144.91 280.517 144.91C281.885 144.91 283.001 145.342 283.847 146.206C284.693 147.07 285.125 148.168 285.125 149.518C285.125 150.868 284.693 151.984 283.811 152.866C282.929 153.748 281.795 154.198 280.391 154.198ZM280.427 152.668C281.309 152.668 282.047 152.38 282.605 151.786C283.163 151.192 283.451 150.472 283.451 149.59C283.451 148.69 283.181 147.934 282.623 147.34C282.065 146.746 281.345 146.44 280.463 146.44C279.581 146.44 278.861 146.728 278.303 147.322C277.745 147.916 277.457 148.636 277.457 149.518C277.457 150.418 277.727 151.174 278.285 151.768C278.843 152.362 279.545 152.668 280.427 152.668ZM299.805 147.412V147.466C301.083 147.898 301.947 149.068 301.947 150.49C301.947 152.776 300.453 154 297.699 154H292.137V141.4H297.699C300.093 141.4 301.551 142.678 301.551 144.766C301.551 145.936 300.903 146.926 299.805 147.412ZM297.717 142.966H293.865V146.764H297.645C299.013 146.764 299.787 146.062 299.787 144.892C299.787 143.686 299.013 142.966 297.717 142.966ZM293.865 152.398H297.879C299.337 152.398 300.183 151.624 300.183 150.328C300.183 149.05 299.319 148.294 297.807 148.294H293.865V152.398ZM305.861 147.952H308.291C310.289 147.952 311.531 149.104 311.531 150.922C311.531 153.01 310.325 154 308.291 154H304.187V145.108H305.861V147.952ZM313.511 154V145.108H315.185V154H313.511ZM305.843 152.506H308.165C309.263 152.506 309.893 151.984 309.893 150.994C309.893 149.968 309.317 149.446 308.165 149.446H305.843V152.506ZM320.11 150.742H318.526L318.454 141.4H320.182L320.11 150.742ZM320.092 153.856C319.678 154.27 318.958 154.27 318.562 153.856C318.166 153.46 318.166 152.722 318.562 152.326C318.958 151.93 319.678 151.93 320.092 152.326C320.506 152.722 320.506 153.46 320.092 153.856Z" fill="#AE8585"/>
                            </g>
                            <defs>
                            <filter id="filter0_dd_1436_289" x="80.9961" y="120.4" width="261.51" height="60.7761" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                            <feOffset/>
                            <feGaussianBlur stdDeviation="3.5"/>
                            <feComposite in2="hardAlpha" operator="out"/>
                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.22 0"/>
                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1436_289"/>
                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                            <feOffset dy="1"/>
                            <feGaussianBlur stdDeviation="11"/>
                            <feComposite in2="hardAlpha" operator="out"/>
                            <feColorMatrix type="matrix" values="0 0 0 0 0.682353 0 0 0 0 0.521569 0 0 0 0 0.521569 0 0 0 0.33 0"/>
                            <feBlend mode="normal" in2="effect1_dropShadow_1436_289" result="effect2_dropShadow_1436_289"/>
                            <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_1436_289" result="shape"/>
                            </filter>
                            <radialGradient id="paint0_radial_1436_289" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(211.5 68.5) rotate(90) scale(145.5 211)">
                            <stop stop-color="#7F6060"/>
                            <stop offset="1" stop-opacity="0"/>
                            </radialGradient>
                            </defs>
                        </svg>
                    </div>
                    <div class="p-info-witdh">
                        <p>Для вывода средств с аккаунта, потребуется пройти 2-ух факторную аутентификацию</p>
                    </div>
                    <div class="verification">
                        <button>Пройти верификацию</button>
                    </div>
                </div>
            </div>
        `,

        // Окно ввода кода 2FA для вывода
        withdrawal_auth_step: () => `
            <div class="withdrawal-auth-step">
                <div class="auth_title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="auth_ctn">
                        ${ModalGenerator.icons.lock}
                        <span>ПРОХОЖДЕНИЕ 2FA</span>
                    </div>
                    <div class="auth_info">
                        <span>Требуется пройти аунтетификацию с помощью OTP приложения, например Google Authenticator</span>
                    </div>
                    <div class="lead_code">
                        <span>Введите код из приложения</span>
                        <div class="type_code">
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1"/>
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1"/>
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1"/>
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1"/>
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1"/>
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1"/>
                        </div>
                    </div>
                    <div class="button_2f">
                        <button>Подтвердить</button>
                    </div>
                    <div class="btn_condition">
                        <div class="succes">
                            ${ModalGenerator.icons.success}
                            <span>2FA Успешно добавлено</span>
                        </div>
                        <div class="error">
                            ${ModalGenerator.icons.error}
                            <span>Неверный код</span>
                        </div>
                    </div>
                </div>
            </div>
        `,

        // Настройки автовывода
        auto_withdrawal: () => `
            <div class="funds_sts auto-redirect-tuesday">
                <div class="funds_sts_title" >
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="sts_title">
                        <span>ВЫВОД СРЕДСТВ</span>
                    </div>
                    <div class="import_info" style="height: 220px;">
                        <div class="imp_red">
                            <span>ВАЖНАЯ ИНФОРМАЦИЯ</span>
                        </div>
                        <div class="li_style" style="margin-bottom: 15px;">
                            <span style="position: relative; left: -3px;">•</span> НЕ выводите средства напрямую на <br> <span style="position: relative;right: -10px;">обменниики.</span>
                        </div>
                        <div class="li_style">
                            <span style="position: relative; left: -3px;">•</span> НЕ используйте кошельки и биржи с MEMO. <span style="position: relative;right: -10px;">Выводите деньги только на адреса, которые не требуют ввода MEMO-фразы.</span>
                        </div>
                    </div>
                    <div class="walet_sts">
                        <span>Кошелек USDT TRC20</span>
                        <input type="address" placeholder="Введите адрес кошелька">
                    </div>
                    <div class="auto_cons">
                        <div class="switch_sts">
                            <div class="switch"></div>
                        </div>
                        <span>Авто-вывод средств</span>
                    </div>
                    <div class="button_sts">
                        <button>Продолжить</button>
                    </div>
                </div>
            </div>
        `,

        // Вывод по вторникам
        withdrawal_schedule: () => `
            <div class="withdrawal-schedule">
                <div class="funds_sts_title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="sts_title">
                        <span>ВЫВОД СРЕДСТВ</span>
                    </div>
                    <div class="import_info">
                        <div class="imp_red">
                            <span>ВАЖНАЯ ИНФОРМАЦИЯ</span>
                        </div>
                        <div class="li_style">
                            <div class="dot">•</div> 
                            <div class="content-text">
                                НЕ выводите средства напрямую на <br> обменниики.
                            </div>
                        </div>
                        <div class="li_style">
                            <div class="dot">•</div> 
                            <div class="content-text">
                                НЕ используйте кошельки и биржи с MEMO. Выводите деньги только на адреса, которые не требуют ввода MEMO-фразы.
                            </div>
                        </div>
                    </div>
                    <div class="walet_sts">
                        <span>Кошелек USDT TRC20</span>
                        <input type="address" placeholder="Введите адрес кошелька">
                    </div>
                    <div class="button_sts">
                        <button>Запросить выплату</button>
                    </div>
                </div>
            </div>
        `,

        // Суб-партнерство
        sub_partner: () => `
            <div class="sub_partner">
                <div class="sub_title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="sub_ctn">
                        ${ModalGenerator.icons.partnership}
                        <span>СУБ.ПАРТНЕРСТВО</span>
                    </div>
                    <div class="sub_ref_info">
                        <span>С каждого нового привлеченного Вами партнера, Вам будут производиться реферальные отчисления равные 5% от его дохода</span>
                    </div>
                    <div class="field_button">
                        <div class="link-refferal">
                            <span>Реферальная ссылка:</span>
                        </div>
                        <div class="btn_parnters">
                            <input type="text" placeholder="https://example.com/?p=xueQ">
                            <button>Скопировать</button>
                        </div>
                    </div>
                </div>
            </div>
        `,

        // Реферальная программа
        ref_program: () => `
            <div class="ref_program">
                <div class="ref_program_subtitle">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="sub_ctn">
                        ${ModalGenerator.icons.partnership}
                        <span>РЕФ.ПРОГРАММА</span>
                    </div>
                    <div class="sub_ref_info">
                        <span>В основе нашей реферальной программы лежит простая модель разделения прибыли (RevShare), которая позволяет Вам получать 60% от каждого проигрыша привлеченного вами клиента в бота.</span>
                    </div>
                    <div class="field_button">
                        <div class="link-refferal">
                            <span>Реферальная ссылка:</span>
                        </div>
                        <div class="btn_parnters">
                            <input type="text" placeholder="https://example.com/?p=xueQ">
                            <button>Скопировать</button>
                        </div>
                    </div>
                </div>
            </div>
        `,

        // Вывод средств (недоступен)
        witd_funds: () => `
            <div class="witd_funds not-available-today">
                  <div class="funds_title">
                  <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="funds_cnt">
                        <span>ВЫВОД СРЕДСТВ</span>
                    </div>
                    <div class="funds_svg">${ModalGenerator.icons.warning}</div>
                    <div class="unv_funds">
                        <span>Сегодня вывод недоступен</span>
                    </div>
                    <div class="accept_funds">
                        <span>Заявки принимаются по вторникам с 10:00 до 18:00</span>
                    </div>
                    <div class="limit_funds">
                        <span>В течение одного периода выплат вы можете заказать <br> только одну выплату.</span>
                    </div>
                    <div class="button_funds">
                        <button>Настроить автовыплаты</button>
                    </div>
                </div>
            </div>
        `,

        // Автовывод средств
        funds_sts: () => `
            <div class="funds_sts auto-redirect-tuesday">
                <div class="funds_sts_title" style="margin-bottom: 50px; height: 555px;">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="sts_title">
                        <span>ВЫВОД СРЕДСТВ</span>
                    </div>
                    <div class="import_info" style="height: 220px;">
                        <div class="imp_red">
                            <span>ВАЖНАЯ ИНФОРМАЦИЯ</span>
                        </div>
                        <div class="li_style" style="margin-bottom: 15px;">
                            <span style="position: relative; left: -3px;">•</span> НЕ выводите средства напрямую на <br> <span style="position: relative;right: -10px;">обменниики.</span>
                        </div>
                        <div class="li_style">
                            <span style="position: relative; left: -3px;">•</span> НЕ используйте кошельки и биржи с MEMO. <span style="position: relative;right: -10px;">Выводите деньги только на адреса, которые не требуют ввода MEMO-фразы.</span>
                        </div>
                    </div>
                    <div class="walet_sts">
                        <span>Кошелек USDT TRC20</span>
                        <input type="address" placeholder="Введите адрес кошелька">
                    </div>
                    <div class="auto_cons">
                        <div class="switch_sts">
                            <div class="switch"></div>
                        </div>
                        <span>Авто-вывод средств</span>
                    </div>
                    <div class="button_sts">
                        <button>Продолжить</button>
                    </div>
                </div>
            </div>
        `,

        // Вывод средств по расписанию (вторник)
        withdrawal_schedule: () => `
            <div class="withdrawal-schedule">
                <div class="funds_sts_title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="sts_title">
                        <span>ВЫВОД СРЕДСТВ</span>
                    </div>
                    <div class="import_info">
                        <div class="imp_red">
                            <span>ВАЖНАЯ ИНФОРМАЦИЯ</span>
                        </div>
                        <div class="li_style">
                            <div class="dot">•</div> 
                            <div class="content-text">
                                НЕ выводите средства напрямую на <br> обменниики.
                            </div>
                        </div>
                        <div class="li_style">
                            <div class="dot">•</div> 
                            <div class="content-text">
                                НЕ используйте кошельки и биржи с MEMO. Выводите деньги только на адреса, которые не требуют ввода MEMO-фразы.
                            </div>
                        </div>
                    </div>
                    <div class="walet_sts">
                        <span>Кошелек USDT TRC20</span>
                        <input type="address" placeholder="Введите адрес кошелька">
                    </div>
                    <div class="button_sts">
                        <button>Запросить выплату</button>
                    </div>
                </div>
            </div>
        `,

        // 2FA
        auth_2f: () => `
            <div class="auth_2f">
                <div class="auth_title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="auth_ctn">
                        ${ModalGenerator.icons.lock}
                        <span>Настройки 2FA</span>
                    </div>
                    <div class="auth_info">
                        <span>Рекомендуем использовать Google Authenticator</span>
                    </div>
                    <div class="auth_qr">
                        <img src="" alt="QR Code" style="max-width: 200px; height: auto;" />
                    </div>
                    <div class="input_code">
                        <input type="text" placeholder="ABCDEFGH12345678" />
                        <div class="svg_copy" title="Скопировать">
                            ${ModalGenerator.icons.copy}
                            ${ModalGenerator.icons.check}
                        </div>
                    </div>
                    <div class="lead_code">
                        <span>Введите код из приложения</span>
                        <div class="type_code">
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1" />
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1" />
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1" />
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1" />
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1" />
                            <input class="code code_5" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="0" maxlength="1" />
                        </div>
                    </div>
                    <div class="button_2f">
                        <button>Подключить</button>
                    </div>
                </div>
                <div class="btn_condition">
                    <div class="succes">
                        ${ModalGenerator.icons.success}
                        <span>2FA Успешно добавлено</span>
                    </div>
                    <div class="error">
                        ${ModalGenerator.icons.error}
                        <span>Неверный код</span>
                    </div>
                </div>
            </div>
        `,

        // Настройки аккаунта
        sts_ac: () => `
            <div class="sts_ac">
                <div class="ac_title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="ac_cnt">
                        <span>НАСТРОЙКИ АККАУНТА</span>
                    </div>
                    <div class="sts_nav">
                        <div class="log_ac active" data-section="login">
                            <span>Логин</span>
                        </div>
                        <div class="email_ac" data-section="email">
                            <span>Email</span>
                        </div>
                        <div class="pass_ac" data-section="password">
                            <span>Пароль</span>
                        </div>
                        <div class="telegram_ac" data-section="telegram">
                            <span>Telegram</span>
                        </div>
                    </div>
                    <div class="ac_input">
                        <div class="log_input" data-content="login" style="display: flex;">
                            <div class="log_type">
                                <span>Актуальный логин</span>
                                <input type="text" placeholder="example-login">
                            </div>
                            <div class="log_type">
                                <span>Новый логин</span>
                                <input type="text" placeholder="Введите новый логин">
                            </div>
                        </div>
                        <div class="log_input" data-content="email" style="display: none;">
                            <div class="log_type">
                                <span>Актуальный email</span>
                                <input type="email" placeholder="example@gmail.com">
                            </div>
                            <div class="log_type">
                                <span>Новый email</span>
                                <input type="email" placeholder="Введите новый Email">
                            </div>
                        </div>
                        <div class="log_input" data-content="password" style="display: none;">
                            <div class="log_type">
                                <span>Старый пароль</span>
                                <input type="password" placeholder="Введите старый пароль">
                            </div>
                            <div class="log_type">
                                <span>Новый пароль</span>
                                <input type="password" placeholder="Введите новый пароль">
                            </div>
                        </div>
                        <div class="log_input" data-content="telegram" style="display: none;">
                            <div class="log_type">
                                <span>Telegram-аккаунт</span>
                                <input type="text" placeholder="Введите юзернейм">
                            </div>
                        </div>
                    </div>
                    <div class="ac_btn">
                        <button>Сохранить</button>
                    </div>
                </div>
            </div>
        `,

        // Выбор контента (креативы/мануалы)
        content_alert: () => `
            <div class="content_alert">
                <div class="content_title">
                    <div class="exit">${ModalGenerator.icons.close}</div>
                    <div class="contect_ctn">
                        <span>КОНТЕНТ</span>
                    </div>
                    <div class="manuals_creative_content">
                        <div class="manual_content">
                            <span>Мануалы</span>
                        </div>
                        <div class="creative_content">
                            <span>Креативы</span>
                        </div>
                    </div>
                    <div class="content_button">
                        <button>Продолжить</button>
                    </div>
                </div>
            </div>
        `
    },

    // Инициализация - создание всех модальных окон
    init() {
        const body = document.body;
        
        // Создаем все модальные окна
        Object.keys(this.templates).forEach(modalName => {
            const modalHTML = this.templates[modalName]();
            body.insertAdjacentHTML('beforeend', modalHTML);
        });

        // Добавляем обработчики для кнопок закрытия
        document.querySelectorAll('.exit').forEach(btn => {
            btn.addEventListener('click', function() {
                const modal = this.closest('.sub_partner, .ref_program, .witd_funds, .funds_sts, .withdrawal-schedule, .auth_2f, .sts_ac, .content_alert, .withdrawal-auth, .withdrawal-auth-step');
                if (modal) {
                    modal.style.display = 'none';
                }
            });
        });

        // Закрытие по клику на оверлей
        document.querySelectorAll('.sub_partner, .ref_program, .witd_funds, .funds_sts, .withdrawal-schedule, .auth_2f, .sts_ac, .content_alert, .withdrawal-auth, .withdrawal-auth-step').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                }
            });
        });

        // ВАЖНО: Обработчики кнопок перенесены в modal-handler.js
        // Не добавляйте здесь обработчики для избежания дублирования

        // Переключение разделов в настройках аккаунта
        document.querySelectorAll('.sts_nav [data-section]').forEach(tab => {
            tab.addEventListener('click', function() {
                const section = this.dataset.section;
                
                // Убираем active со всех табов
                document.querySelectorAll('.sts_nav [data-section]').forEach(t => t.classList.remove('active'));
                
                // Добавляем active на текущий таб
                this.classList.add('active');
                
                // Скрываем все контенты
                document.querySelectorAll('.ac_input [data-content]').forEach(content => {
                    content.style.display = 'none';
                });
                
                // Показываем нужный контент
                const targetContent = document.querySelector(`.ac_input [data-content="${section}"]`);
                if (targetContent) {
                    targetContent.style.display = 'flex';
                }
            });
        });
    }
};

// Автозапуск при загрузке страницы
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => ModalGenerator.init());
} else {
    ModalGenerator.init();
}
