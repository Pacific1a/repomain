# üìã –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –°–ü–ò–°–ö–ê –†–ï–§–ï–†–ê–õ–û–í –í DASHBOARD

## üì¶ –ß–¢–û –°–û–ó–î–ê–ù–û:

1. `site/dashboard/js/referrals-list.js` - –º–æ–¥—É–ª—å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞
2. `site/dashboard/css/referrals-list.css` - —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã
3. `site/dashboard/js/avatar-helper.js` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–æ–∫-–∏–Ω–∏—Ü–∏–∞–ª–æ–≤

---

## üöÄ –ö–ê–ö –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨:

### **–®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤ HTML (dashboard/index.html)**

```html
<!-- –í <head> –¥–æ–±–∞–≤–∏—Ç—å CSS -->
<link rel="stylesheet" href="css/referrals-list.css">

<!-- –ü–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º </body> –¥–æ–±–∞–≤–∏—Ç—å JS -->
<script src="js/avatar-helper.js"></script>
<script src="js/referrals-list.js"></script>
```

### **–®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ –Ω—É–∂–Ω–æ–º –º–µ—Å—Ç–µ**

–í —Ñ–∞–π–ª–µ `dashboard/index.html` –Ω–∞–π–¥–∏ –≥–¥–µ —Ö–æ—á–µ—à—å –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä –ø–æ—Å–ª–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤):

```html
<!-- –ü–†–ò–ú–ï–†: –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –±–ª–æ–∫–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π -->
<div class="content-section">
    <h2 class="section-title">–ú–æ–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã</h2>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ -->
    <div class="referrals-list-container"></div>
</div>
```

### **–®–∞–≥ 3: –î–µ–ø–ª–æ–π**

```bash
cd /var/www/duo
git pull origin main

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã —Å–∫–∞—á–∞–ª–∏—Å—å:
ls site/dashboard/js/referrals-list.js
ls site/dashboard/css/referrals-list.css
ls site/dashboard/js/avatar-helper.js

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
pm2 restart duo-server
```

---

## üé® –ö–ê–ö –≠–¢–û –í–´–ì–õ–Ø–î–ò–¢:

### **–° –¥–∞–Ω–Ω—ã–º–∏:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –ú–û–ò –†–ï–§–ï–†–ê–õ–´                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å     ‚îÇ –î–µ–ø–æ–∑–∏—Ç—ã ‚îÇ –ü—Ä–æ–∏–≥—Ä—ã—à–∏ ‚îÇ –î–∞—Ç–∞       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üîµ J  john_doe   ‚îÇ 1,000‚ÇΩ   ‚îÇ 600‚ÇΩ      ‚îÇ 08.01.2026 ‚îÇ
‚îÇ üü¢ M  maria123   ‚îÇ 500‚ÇΩ     ‚îÇ 300‚ÇΩ      ‚îÇ 07.01.2026 ‚îÇ
‚îÇ üë§    @alex      ‚îÇ 2,000‚ÇΩ   ‚îÇ 1,200‚ÇΩ    ‚îÇ 06.01.2026 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **–ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –ú–û–ò –†–ï–§–ï–†–ê–õ–´                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                         ‚îÇ
‚îÇ         –ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π            ‚îÇ
‚îÇ         –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π!          ‚îÇ
‚îÇ                                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß FEATURES:

1. **–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞:** –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. **–ê–≤–∞—Ç–∞—Ä–∫–∏:**
   - –ï—Å–ª–∏ –µ—Å—Ç—å —Ñ–æ—Ç–æ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –∞–≤–∞—Ç–∞—Ä–∫–∞
   - –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–æ—Ç–æ ‚Üí —Ü–≤–µ—Ç–Ω–æ–π –∫—Ä—É–≥ —Å –∏–Ω–∏—Ü–∏–∞–ª–æ–º
3. **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
4. **Responsive:** –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
5. **Hover —ç—Ñ—Ñ–µ–∫—Ç—ã:** –°—Ç—Ä–æ–∫–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏

---

## üìä –î–ê–ù–ù–´–ï –ò–ó API:

`GET /api/referral/partner/referrals` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

```json
{
  "success": true,
  "referrals": [
    {
      "userId": "123456789",
      "nickname": "john_doe",
      "photoUrl": "https://...",
      "totalDeposits": 1000,
      "totalLosses": 600,
      "joinedAt": "2026-01-08T10:30:00.000Z"
    }
  ]
}
```

---

## üé® –ö–ê–°–¢–û–ú–ò–ó–ê–¶–ò–Ø:

### **–ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞:**

–í —Ñ–∞–π–ª–µ `css/referrals-list.css`:

```css
.col-deposits {
    color: #4ECDC4;  /* –¶–≤–µ—Ç –¥–ª—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤ */
}

.col-losses {
    color: #FF6B6B;  /* –¶–≤–µ—Ç –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã—à–µ–π */
}
```

### **–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏:**

–í —Ñ–∞–π–ª–µ `js/referrals-list.js` –Ω–∞–π–¥–∏ `renderReferralRow()` –∏ –∏–∑–º–µ–Ω–∏:

```javascript
grid-template-columns: 2fr 1fr 1fr 1fr;
//                     ‚Üë   ‚Üë   ‚Üë   ‚Üë
//                     –Æ–∑–µ—Ä –î–µ–ø –ü–æ—Ç –î–∞—Ç–∞
```

### **–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É:**

```javascript
// –í ReferralsListManager –¥–æ–±–∞–≤–∏—Ç—å:
filterByDeposits(minAmount) {
    this.referrals = this.referrals.filter(r => r.totalDeposits >= minAmount);
    this.render();
}

sortByDate() {
    this.referrals.sort((a, b) => new Date(b.joinedAt) - new Date(a.joinedAt));
    this.render();
}
```

---

## üö® –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú:

### **–°–ø–∏—Å–æ–∫ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**

1. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `.referrals-list-container` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ HTML
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ: `GET /api/referral/partner/referrals`

### **–ê–≤–∞—Ç–∞—Ä–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**

1. –£–±–µ–¥–∏—Å—å —á—Ç–æ `avatar-helper.js` –ø–æ–¥–∫–ª—é—á–µ–Ω –ü–ï–†–ï–î `referrals-list.js`
2. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏ `AvatarHelper is not defined`

### **–î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è:**

1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–∞–ª–∏–¥–Ω—ã–π
2. –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `pm2 logs duo-server | grep "referrals"`
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ –ë–î –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∏ `nickname` –∏ `photo_url`:
   ```bash
   sqlite3 /var/www/duo/server/data/database.db "PRAGMA table_info(referrals);"
   ```

---

## ‚úÖ CHECKLIST –ò–ù–¢–ï–ì–†–ê–¶–ò–ò:

- [ ] –î–æ–±–∞–≤–∏—Ç—å CSS –≤ `<head>`
- [ ] –î–æ–±–∞–≤–∏—Ç—å JS –ø–µ—Ä–µ–¥ `</body>`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `.referrals-list-container` –≤ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ
- [ ] –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä (`git pull`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12 ‚Üí Console)
- [ ] –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ–Ω –ø–æ—è–≤–∏–ª—Å—è –≤ —Å–ø–∏—Å–∫–µ

---

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –§–ê–ô–õ–´:

- `server/services/referral.service.js` - –º–µ—Ç–æ–¥ `getReferralsList()`
- `server/routes/referral.routes.js` - endpoint `/api/referral/partner/referrals`
- `server/migrations/add-referral-user-info.js` - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î (–¥–æ–±–∞–≤–ª—è–µ—Ç nickname/photo_url)
- `bot/autoshop/tgbot/routers/main_start.py` - Python –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:

–ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—ã –±—É–¥—É—Ç –≤–∏–¥–µ—Ç—å –∫—Ä–∞—Å–∏–≤—É—é —Ç–∞–±–ª–∏—Ü—É –≤—Å–µ—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ –° —Ä–µ–∞–ª—å–Ω—ã–º–∏ nicknames (–≤–º–µ—Å—Ç–æ User123)
- ‚úÖ –° –∞–≤–∞—Ç–∞—Ä–∫–∞–º–∏ –∏–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏
- ‚úÖ –° —Å—É–º–º–∞–º–∏ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –∏ –ø—Ä–æ–∏–≥—Ä—ã—à–µ–π
- ‚úÖ –° –¥–∞—Ç–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã

**–î–µ–ø–ª–æ–π:** `git pull` ‚Üí –æ—Ç–∫—Ä–æ–πgoogle dashboard ‚Üí —É–≤–∏–¥–∏—à—å –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª "–ú–æ–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã" üéâ
