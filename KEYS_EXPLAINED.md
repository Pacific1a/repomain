# ๐ ะะะ ะะะฎะงะ - ะะะะกะขะะ ะะะชะฏะกะะะะะ

## โ ะงัะพ ะทะฐ ะบะปัั PARTNER_API_SECRET?

ะญัะพ **ะพะฑัะธะน ัะตะบัะตัะฝัะน ะฟะฐัะพะปั** ะผะตะถะดั ะฑะพัะพะผ ะธ ัะฐะนัะพะผ.

### ะะฐัะตะผ ะพะฝ ะฝัะถะตะฝ?

ะงัะพะฑั **ะขะะะฌะะ ะขะะ ะะะข** ะผะพะณ ะพัะฟัะฐะฒะปััั ะดะฐะฝะฝัะต ะฝะฐ ะขะะะ ัะฐะนั.

ะะตะท ััะพะณะพ ะบะปััะฐ ะปัะฑะพะน ัะตะปะพะฒะตะบ ะผะพะถะตั ะพัะฟัะฐะฒะธัั ัะตะนะบะพะฒัะต ะดะฐะฝะฝัะต ะฝะฐ ัะฒะพะน ัะฐะนั ะธ ะฝะฐะบัััะธัั ััะฐัะธััะธะบั.

---

## ๐ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

```
ะะะข                                 ะกะะะข
โโ ะัะฟัะฐะฒะปัะตั ะดะฐะฝะฝัะต               โโ ะัะพะฒะตััะตั ะบะปัั
โ  ั ะทะฐะณะพะปะพะฒะบะพะผ:                   โ  
โ  X-API-Secret: ะผะพะน-ะบะปัั-123 โโโโ>โ  if (ะบะปัั !== 'ะผะพะน-ะบะปัั-123') {
โ                                  โ    return 401 "ะะตั ะดะพัััะฟะฐ"
โ                                  โ  }
โ                                  โ
โโ ะัะปะธ ะบะปัั ะฟัะฐะฒะธะปัะฝัะน      <โโโโโโโ ะัะธะฝะธะผะฐะตั ะดะฐะฝะฝัะต
   ัะฐะนั ะฟัะธะฝะธะผะฐะตั ะดะฐะฝะฝัะต
```

---

## ๐ ะะดะต ัะบะฐะทะฐัั ะบะปัั

### ะะฐ ะะะขะ (bot/server/.env):

```env
PARTNER_API_SECRET=ัะฒะพะน-ัะตะบัะตัะฝัะน-ะบะปัั-12345
```

### ะะฐ ะกะะะขะ (site/server/.env):

```env
PARTNER_API_SECRET=ัะฒะพะน-ัะตะบัะตัะฝัะน-ะบะปัั-12345
```

**ะะะะะ:** ะะปัั ะดะพะปะถะตะฝ ะฑััั **ะะะะะะะะะซะ** ะฝะฐ ะฑะพัะต ะธ ัะฐะนัะต!

---

## ๐ฒ ะะฐะบ ะฟัะธะดัะผะฐัั ะบะปัั

### ะะฐัะธะฐะฝั 1: ะัะพััะพะน (ะดะปั ัะตััะฐ)
```
my-secret-key-2024
```

### ะะฐัะธะฐะฝั 2: ะกะปะพะถะฝัะน (ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ)
```
k8Pq2mN9xR5tL7wY3bH6jF4vC1nM0zX
```

### ะะฐัะธะฐะฝั 3: ะกะณะตะฝะตัะธัะพะฒะฐัั ะพะฝะปะฐะนะฝ
ะัะบัะพะน: https://randomkeygen.com/
ะกะบะพะฟะธััะน ะปัะฑะพะน ะบะปัั ะธะท "Fort Knox Passwords"

---

## โ ะัะธะผะตั ะฝะฐัััะพะนะบะธ

### 1. ะัะธะดัะผะฐะป ะบะปัั:
```
duo-partner-secret-2024-xyz
```

### 2. ะฃะบะฐะทัะฒะฐะตัั ะฒ bot/server/.env:
```env
PARTNER_SITE_URL=https://duo-site.onrender.com
PARTNER_API_SECRET=duo-partner-secret-2024-xyz
```

### 3. ะฃะบะฐะทัะฒะฐะตัั ะฒ site/server/.env:
```env
PARTNER_API_SECRET=duo-partner-secret-2024-xyz
```

### 4. ะะพัะพะฒะพ! โ

---

## ๐ ะะฐะบ ะฟัะพะฒะตัะธัั ััะพ ะบะปัั ัะฐะฑะพัะฐะตั

### ะะฐะฟัััะธ ะะะข ะธ ะฟะพัะผะพััะธ ะปะพะณะธ:

```
โ Partner Webhook enabled: https://duo-site.onrender.com
```

ะัะปะธ ะฒะธะดะธัั ััะพ - ะทะฝะฐัะธั ะฑะพั ะณะพัะพะฒ ะพัะฟัะฐะฒะปััั ะดะฐะฝะฝัะต.

### ะัะฟัะฐะฒั ัะตััะพะฒัะน webhook:

```bash
curl -X POST https://duo-site.onrender.com/api/referral/click \
  -H "Content-Type: application/json" \
  -H "X-API-Secret: duo-partner-secret-2024-xyz" \
  -d '{"referralCode":"test123","userId":"456789"}'
```

**ะะถะธะดะฐะตะผะพ:** `{"success":true}` (ะธะปะธ ััะพ-ัะพ ะฟะพะดะพะฑะฝะพะต)

**ะัะปะธ 401:** ะะปัั ะฝะตะฟัะฐะฒะธะปัะฝัะน ะธะปะธ ะฝะต ัะพะฒะฟะฐะดะฐะตั

---

## โ๏ธ ะะะะะ

### โ ะะ ะะะะะ ะขะะ:

```env
# ะะฐ ะฑะพัะต:
PARTNER_API_SECRET=key-123

# ะะฐ ัะฐะนัะต:
PARTNER_API_SECRET=key-456   # โ ะะะะะซะ ะะะฎะงะ!
```

### โ ะะะะะ ะขะะ:

```env
# ะะฐ ะฑะพัะต:
PARTNER_API_SECRET=key-123

# ะะฐ ัะฐะนัะต:
PARTNER_API_SECRET=key-123   # โ ะะะะะะะะะซะ!
```

---

## ๐ ะะฐ Render.com

### ะะปั ะะะขะ:

1. ะัะบัะพะน Dashboard โ ัะฒะพะน ัะตัะฒะธั ะฑะพัะฐ
2. Environment Variables
3. ะะพะฑะฐะฒั:
   ```
   Key: PARTNER_API_SECRET
   Value: ัะฒะพะน-ัะตะบัะตัะฝัะน-ะบะปัั-12345
   ```
4. Save Changes

### ะะปั ะกะะะขะ:

1. ะัะบัะพะน Dashboard โ ัะฒะพะน ัะตัะฒะธั ัะฐะนัะฐ
2. Environment Variables
3. ะะพะฑะฐะฒั:
   ```
   Key: PARTNER_API_SECRET
   Value: ัะฒะพะน-ัะตะบัะตัะฝัะน-ะบะปัั-12345  โ ะขะะะะ ะะ!
   ```
4. Save Changes

---

## ๐ก ะัะพะณะพ

**PARTNER_API_SECRET** = ะพะฑัะธะน ะฟะฐัะพะปั ะผะตะถะดั ะฑะพัะพะผ ะธ ัะฐะนัะพะผ

- ะัะธะดัะผะฐะน ะปัะฑะพะน ัะปะพะถะฝัะน ะฟะฐัะพะปั
- ะฃะบะฐะถะธ ะฒ .env ะฝะฐ ะฑะพัะต
- ะฃะบะฐะถะธ ะขะะะะ ะะ ะฒ .env ะฝะฐ ัะฐะนัะต
- Profit! ๐

**ะัะต ะพััะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ ะฝะตะพะฑัะทะฐัะตะปัะฝั.** ะญัะพะณะพ ะบะปััะฐ ะดะพััะฐัะพัะฝะพ ะดะปั ัะฐะฑะพัั ัะตัะตัะฐะปัะฝะพะน ัะธััะตะผั!
