# üöÄ –ó–ê–ü–£–°–ö –°–ï–†–í–ï–†–ê - –ò–ù–°–¢–†–£–ö–¶–ò–Ø

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä!

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω, **—Å–Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ**:

### PowerShell:
```powershell
Stop-Process -Name "node" -Force
```

### –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä

---

## ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –ó–ê–ü–£–°–ö

### 1Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–û–í–´–ô** —Ç–µ—Ä–º–∏–Ω–∞–ª PowerShell

### 2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```powershell
cd C:\Users\dev_fenomen\Desktop\bot\server
npm start
```

### 3Ô∏è‚É£ –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
üì° WebSocket –≥–æ—Ç–æ–≤ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º
üíæ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: C:\Users\dev_fenomen\Desktop\bot\server\data
üóÑÔ∏è MongoDB: –û—Ç–∫–ª—é—á–µ–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JSON)
ü§ñ –°–∏—Å—Ç–µ–º–∞ –±–æ—Ç–æ–≤ Roll –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

### 4Ô∏è‚É£ –í **–î–†–£–ì–û–ú** —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:
```powershell
cd C:\Users\dev_fenomen\Desktop\bot
python -m http.server 8000
```

### 5Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
```
http://localhost:8000/index.html
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´ API

### –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å
showBalance()
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: üíµ Current balance: 249.00‚ÇΩ, 100 chips

// 2. –î–æ–±–∞–≤–∏—Ç—å –¥–µ–Ω—å–≥–∏ (—Å–æ–∑–¥–∞—Å—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é)
await addMoney(100)

// 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å
fetch('http://localhost:3000/api/transactions/1889923046')
  .then(r => r.json())
  .then(console.log)
// –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
```

### –ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
‚úÖ POST http://localhost:3000/api/transactions/1889923046 200 OK
```
**–ó–Ω–∞—á–∏—Ç –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

### –ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ:
```
‚ùå POST https://telegram-games-plkj.onrender.com/api/transactions/... 404
```
**–ó–Ω–∞—á–∏—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è production —Å–µ—Ä–≤–µ—Ä –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ!**

---

## üîß –ï–°–õ–ò API –ù–ï –†–ê–ë–û–¢–ê–ï–¢ (404)

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ production —Å–µ—Ä–≤–µ—Ä

–û—Ç–∫—Ä–æ–π—Ç–µ `balance-api.js` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É 6:

```javascript
const SERVER_URL = window.GAME_SERVER_URL || 'https://telegram-games-plkj.onrender.com';
```

### –†–µ—à–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π URL

**–°–ø–æ—Å–æ–± 1 - —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å (–≤—Ä–µ–º–µ–Ω–Ω–æ):**
```javascript
window.GAME_SERVER_URL = 'http://localhost:3000';
location.reload();
```

**–°–ø–æ—Å–æ–± 2 - –≤ –∫–æ–¥–µ (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ):**

–ò–∑–º–µ–Ω–∏—Ç–µ `balance-api.js`:
```javascript
// –ë—ã–ª–æ:
const SERVER_URL = window.GAME_SERVER_URL || 'https://telegram-games-plkj.onrender.com';

// –°—Ç–∞–ª–æ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
const SERVER_URL = window.location.hostname === 'localhost' 
    ? 'http://localhost:3000'
    : 'https://telegram-games-plkj.onrender.com';
```

---

## üìä –ü–†–û–í–ï–†–ö–ê –¢–†–ê–ù–ó–ê–ö–¶–ò–ô –í –ü–†–û–§–ò–õ–ï

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å:
```
http://localhost:8000/profile/index.html
```

### 2. –í –∫–æ–Ω—Å–æ–ª–∏ (F12):
```javascript
// –î–æ–±–∞–≤–∏—Ç—å –¥–µ–Ω—å–≥–∏
await addMoney(50)
```

### 3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- ‚úÖ –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–∏–ª—Å—è: **+50‚ÇΩ**
- ‚úÖ –í –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ—è–≤–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å:
  ```
  21:45 25.11.2024
  –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Ä¢ –°–∏—Å—Ç–µ–º–∞
  +50.00‚ÇΩ
  ```
- ‚úÖ –ü–æ—è–≤–∏–ª–æ—Å—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É

---

## üìÇ –ü–†–û–í–ï–†–ö–ê –§–ê–ô–õ–û–í –ù–ê –°–ï–†–í–ï–†–ï

### –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–≥ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–æ–∑–¥–∞–Ω
Test-Path "C:\Users\dev_fenomen\Desktop\bot\server\data\transactions.json"
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: True

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
Get-Content "C:\Users\dev_fenomen\Desktop\bot\server\data\transactions.json"
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å JSON —Å –≤–∞—à–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏:
```json
{
  "1889923046": [
    {
      "id": "1732557780123",
      "type": "add",
      "amount": 50,
      "source": "system",
      "description": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ 50‚ÇΩ",
      "timestamp": 1732557780123,
      "date": "2024-11-25T18:43:00.123Z"
    }
  ]
}
```

---

## üéÆ –ü–û–õ–ù–´–ô –¢–ï–°–¢

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:
```
http://localhost:8000/index.html
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–µ–π—Å –∑–∞ 279‚ÇΩ

### 3. –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
‚úÖ POST http://localhost:3000/api/transactions/... 200 OK (—Å–ø–∏—Å–∞–Ω–∏–µ)
‚úÖ POST http://localhost:3000/api/transactions/... 200 OK (–≤—ã–∏–≥—Ä—ã—à)
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å:
```
http://localhost:8000/profile/index.html
```

### 5. –í—ã —É–≤–∏–¥–∏—Ç–µ 2 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
```
–°–ø–∏—Å–∞–Ω–∏–µ ‚Ä¢ –ö–µ–π—Å        -279‚ÇΩ
–í—ã–∏–≥—Ä—ã—à ‚Ä¢ –ö–µ–π—Å         +150‚ÇΩ
```

---

## ‚úÖ –ì–û–¢–û–í–û!

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∏ –Ω–∏–∫–∞–∫–∏—Ö 404 –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏!

üéâ **–ë–∞–ª–∞–Ω—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç!**
