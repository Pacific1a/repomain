(venv) root@duos:/var/www/duo/bot/autoshop# cd /var/www/duo/bot/autoshop
(venv) root@duos:/var/www/duo/bot/autoshop#      source venv/bin/activate
(venv) root@duos:/var/www/duo/bot/autoshop#      pip install --upgrade aiogram
Requirement already satisfied: aiogram in ./venv/lib/python3.12/site-packages (3.2.0)
Collecting aiogram
  Downloading aiogram-3.24.0-py3-none-any.whl.metadata (6.7 kB)
Requirement already satisfied: aiofiles<26.0,>=23.2.1 in ./venv/lib/python3.12/site-packages (from aiogram) (23.2.1)
Requirement already satisfied: aiohttp<3.14,>=3.9.0 in ./venv/lib/python3.12/site-packages (from aiogram) (3.9.1)
Requirement already satisfied: certifi>=2023.7.22 in ./venv/lib/python3.12/site-packages (from aiogram) (2026.1.4)
Requirement already satisfied: magic-filter<1.1,>=1.0.12 in ./venv/lib/python3.12/site-packages (from aiogram) (1.0.12)
Requirement already satisfied: pydantic<2.13,>=2.4.1 in ./venv/lib/python3.12/site-packages (from aiogram) (2.5.2)
Requirement already satisfied: typing-extensions<=5.0,>=4.7.0 in ./venv/lib/python3.12/site-packages (from aiogram) (4.15.0)
Requirement already satisfied: attrs>=17.3.0 in ./venv/lib/python3.12/site-packages (from aiohttp<3.14,>=3.9.0->aiogram) (25.4.0)
Requirement already satisfied: multidict<7.0,>=4.5 in ./venv/lib/python3.12/site-packages (from aiohttp<3.14,>=3.9.0->aiogram) (6.7.0)
Requirement already satisfied: yarl<2.0,>=1.0 in ./venv/lib/python3.12/site-packages (from aiohttp<3.14,>=3.9.0->aiogram) (1.22.0)
Requirement already satisfied: frozenlist>=1.1.1 in ./venv/lib/python3.12/site-packages (from aiohttp<3.14,>=3.9.0->aiogram) (1.8.0)
Requirement already satisfied: aiosignal>=1.1.2 in ./venv/lib/python3.12/site-packages (from aiohttp<3.14,>=3.9.0->aiogram) (1.4.0)
Requirement already satisfied: annotated-types>=0.4.0 in ./venv/lib/python3.12/site-packages (from pydantic<2.13,>=2.4.1->aiogram) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.5 in ./venv/lib/python3.12/site-packages (from pydantic<2.13,>=2.4.1->aiogram) (2.14.5)
Requirement already satisfied: idna>=2.0 in ./venv/lib/python3.12/site-packages (from yarl<2.0,>=1.0->aiohttp<3.14,>=3.9.0->aiogram) (3.11)
Requirement already satisfied: propcache>=0.2.1 in ./venv/lib/python3.12/site-packages (from yarl<2.0,>=1.0->aiohttp<3.14,>=3.9.0->aiogram) (0.4.1)
Downloading aiogram-3.24.0-py3-none-any.whl (706 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 706.9/706.9 kB 10.5 MB/s  0:00:00
Installing collected packages: aiogram
  Attempting uninstall: aiogram
    Found existing installation: aiogram 3.2.0
    Uninstalling aiogram-3.2.0:
      Successfully uninstalled aiogram-3.2.0
Successfully installed aiogram-3.24.0
(venv) root@duos:/var/www/duo/bot/autoshop# pip show aiogram
Name: aiogram
Version: 3.24.0
Summary: Modern and fully asynchronous framework for Telegram Bot API
Home-page: https://aiogram.dev/
Author:
Author-email: Alex Root Junior <jroot.junior@gmail.com>
License-Expression: MIT
Location: /var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages
Requires: aiofiles, aiohttp, certifi, magic-filter, pydantic, typing-extensions
Required-by:
(venv) root@duos:/var/www/duo/bot/autoshop# pm2 restart duo-bot
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [duo-bot](ids: [ 7 ])
[PM2] [duo-bot](7) ✓
┌────┬───────────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name              │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼───────────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 7  │ duo-bot           │ default     │ N/A     │ fork    │ 1073132  │ 0s     │ 57   │ online    │ 0%       │ 6.4mb    │ root     │ disabled │
│ 0  │ duo-server        │ default     │ 2.0.0   │ fork    │ 1070295  │ 35m    │ 271  │ online    │ 0%       │ 79.6mb   │ root     │ disabled │
│ 3  │ withdrawal-bot    │ default     │ 1.0.0   │ fork    │ 978415   │ 4D     │ 14   │ online    │ 0%       │ 64.0mb   │ root     │ disabled │
└────┴───────────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
(venv) root@duos:/var/www/duo/bot/autoshop# pm2 logs duo-bot --lines 50
[TAILING] Tailing last 50 lines for [duo-bot] process (change the value with --lines option)
/root/.pm2/logs/duo-bot-out-7.log last 50 lines:
/root/.pm2/logs/duo-bot-error-7.log last 50 lines:
7|duo-bot  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 460, in simplify_schema_references
7|duo-bot  |     schema = walk_core_schema(schema, collect_refs)
7|duo-bot  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 431, in walk_core_schema
7|duo-bot  |     return f(schema.copy(), _dispatch)
7|duo-bot  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 447, in collect_refs
7|duo-bot  |     recurse(definition, collect_refs)
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 207, in walk
7|duo-bot  |     return f(schema, self._walk)
7|duo-bot  |            ^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 452, in collect_refs
7|duo-bot  |     new = recurse(s, collect_refs)
7|duo-bot  |           ^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 210, in _walk
7|duo-bot  |     schema = self._schema_type_to_method[schema['type']](schema.copy(), f)
7|duo-bot  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 219, in _handle_other_schemas
7|duo-bot  |     schema['schema'] = self.walk(sub_schema, f)  # type: ignore
7|duo-bot  |                        ^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 207, in walk
7|duo-bot  |     return f(schema, self._walk)
7|duo-bot  |            ^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 458, in collect_refs
7|duo-bot  |     return recurse(s, collect_refs)
7|duo-bot  |            ^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 210, in _walk
7|duo-bot  |     schema = self._schema_type_to_method[schema['type']](schema.copy(), f)
7|duo-bot  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 219, in _handle_other_schemas
7|duo-bot  |     schema['schema'] = self.walk(sub_schema, f)  # type: ignore
7|duo-bot  |                        ^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 207, in walk
7|duo-bot  |     return f(schema, self._walk)
7|duo-bot  |            ^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 458, in collect_refs
7|duo-bot  |     return recurse(s, collect_refs)
7|duo-bot  |            ^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 210, in _walk
7|duo-bot  |     schema = self._schema_type_to_method[schema['type']](schema.copy(), f)
7|duo-bot  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
7|duo-bot  |   File "/var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_core_utils.py", line 353, in handle_model_fields_schema
7|duo-bot  |     replaced_field = v.copy()
7|duo-bot  |                      ^^^^^^^^
7|duo-bot  | KeyboardInterrupt
7|duo-bot  | /var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/pydantic/_internal/_fields.py:149: UserWarning: Field "model_custom_emoji_id" has conflict with protected namespace "model_".
7|duo-bot  | 
7|duo-bot  | You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.
7|duo-bot  |   warnings.warn(

7|duo-bot  | /var/www/duo/bot/autoshop/venv/lib/python3.12/site-packages/apscheduler/__init__.py:1: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package
 is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
7|duo-bot  |   from pkg_resources import get_distribution, DistributionNotFound
7|duo-bot  | � Используется SERVER_URL: http://77.239.125.70:3000
7|duo-bot  | � PARTNER_API_SECRET установлен: ✅
7|duo-bot  | DB was found(1/8)
7|duo-bot  | DB was found(2/8)
7|duo-bot  | DB was found(3/8)
7|duo-bot  | DB was found(4/8)
7|duo-bot  | DB was found(5/8)
7|duo-bot  | DB was found(6/8)
7|duo-bot  | DB was found(7/8)
7|duo-bot  | DB was found(8/8)
7|duo-bot  | WARNING | 14-01-2026 00:41:46 | main.py:59 | BOT WAS STARTED
7|duo-bot  | ~~~~~ Bot was started - @aasasdasdadsddasdbot ~~~~~
7|duo-bot  | ~~~~~ TG developer - @djimbox ~~~~~
7|duo-bot  | ⚠️ Error sending photo: Telegram server says - Bad Request: failed to get HTTP URL content
